{% extends 'page.html.twig' %}

{#
	member: an instance of \Domain\Member
	keys: array of \Domain\VerificatonKey
#}

{% block page %}
	<h1>Your application</h1>
	<form method="post" action="/join/application/{{ member.getId() }}/verify">
		{% include 'csrf.html.twig' %}
		<div>
			<h2>Verify your application</h2>
			<p>Ref: {{ member.getId() }}</p>
			<p>To continue, please check the contact details you&rsquo;ve provided for a note from us containing verification code.</p>
			{% for key in member.getUnverifiedKeys() %}
				<div>
					<p>Type: {{ key.getType()|title }}</p>
					<input name="keystr[{{ loop.index0 }}]" placeholder="My code">
					<input name="type[{{ loop.index0 }}]" value="{{ key.getType() }}" type="hidden">
				</div>
			{% endfor %}
		</div>
		<input type="submit" value="Verify">
	</form>
{% endblock %}
